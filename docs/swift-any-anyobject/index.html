<!DOCTYPE html>
<!--
    Type on Strap jekyll theme v2.4.9
    Theme free for personal and commercial use under the MIT license
    https://github.com/sylhare/Type-on-Strap/blob/master/LICENSE
-->
<html lang="en">
  
  <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=5"> <!-- Theme Mode--> <script> const darkBtn = "Dark"; const lightBtn = "Light"; const isAutoTheme = true; const preferredTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'; if (isAutoTheme) { document.documentElement.setAttribute('data-theme', sessionStorage.getItem('theme') ?? preferredTheme); } else { document.documentElement.setAttribute('data-theme', "auto"); } </script> <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)--> <script defer src="/assets/js/main.min.js"></script> <!-- CSS --> <!-- <link rel="stylesheet" href="/assets/css/main.css"> --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!--Favicon--> <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"> <!-- KaTeX 0.16.9 --> <!-- Mermaid 10.8.0 --> <link rel="alternate" hreflang="en" href="http://localhost:4000/en/" /> <link rel="alternate" hreflang="fr" href="http://localhost:4000/fr/" /> <link rel="alternate" hreflang="es" href="http://localhost:4000/es/" /> <link rel="alternate" hreflang="x-default" href="http://localhost:4000" /> <!-- Simple Jekyll Search 1.10.0 --> <script src="/assets/js/vendor/simple-jekyll-search.min.js" type="text/javascript"></script> <!-- Google Analytics / Cookie Consent --> <script> const cookieName = 'cookie-notice-dismissed-http://localhost:4000'; const isCookieConsent = 'true'; const analyticsName = ''; const analyticsNameGA4 = ''; </script> <span id="cookie-notice"><span>We would like to use third party cookies and scripts to improve the functionality of this website. </span><a id="cookie-notice-accept" class="button">Approve</a> </span> <!-- seo tags --> <meta property="og:image" content="http://localhost:4000/images/covers/any.webp"> <meta property="og:type" content="website" /> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Understanding Swift: Differences Between Any, AnyObject, and AnyHashable | Swift By Deya</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Understanding Swift: Differences Between Any, AnyObject, and AnyHashable" /> <meta name="author" content="Deya Elkhawaldeh" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="When working with Swift, one of the key decisions you’ll often face is how to represent data types. While specificity in defining data types is generally encouraged, Swift offers three flexible type options: Any, AnyObject, and AnyHashable." /> <meta property="og:description" content="When working with Swift, one of the key decisions you’ll often face is how to represent data types. While specificity in defining data types is generally encouraged, Swift offers three flexible type options: Any, AnyObject, and AnyHashable." /> <link rel="canonical" href="http://localhost:4000/swift-any-anyobject/" /> <meta property="og:url" content="http://localhost:4000/swift-any-anyobject/" /> <meta property="og:site_name" content="Swift By Deya" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2021-11-26T00:00:00+02:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Understanding Swift: Differences Between Any, AnyObject, and AnyHashable" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Deya Elkhawaldeh"},"dateModified":"2024-09-08T00:00:00+03:00","datePublished":"2021-11-26T00:00:00+02:00","description":"When working with Swift, one of the key decisions you’ll often face is how to represent data types. While specificity in defining data types is generally encouraged, Swift offers three flexible type options: Any, AnyObject, and AnyHashable.","headline":"Understanding Swift: Differences Between Any, AnyObject, and AnyHashable","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/swift-any-anyobject/"},"url":"http://localhost:4000/swift-any-anyobject/"}</script> <!-- End Jekyll SEO tag --> <!-- RSS --> <link rel="alternate" type="application/atom+xml" title="Swift By Deya" href="http://localhost:4000/feed.xml"/> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Swift By Deya" /> <!-- Twitter Cards --> <meta name="twitter:title" content="Understanding Swift: Differences Between Any, AnyObject, and AnyHashable"> <meta name="twitter:description" content="When working with Swift, one of the key decisions you’ll often face is how to represent data types. While specificity in defining data types is generally enc..."> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="http://localhost:4000/images/covers/any.webp"> <meta name="twitter:image:alt" content="Understanding Swift: Differences Between Any, AnyObject, and AnyHashable"> </head>
  <body>
    
    <header class="site-header"> <!-- Logo and title --> <div class="branding"> <a href="/"> <img alt="logo img" class="avatar" src="/assets/img/swift.webp" loading="lazy"/> </a> <a class="site-title" aria-label="Swift By Deya" href="/"> Swift By Deya </a> </div> <!-- Toggle menu --> <nav class="clear"> <a aria-label="pull" id="pull" class="toggle" href="#"> <i class="fas fa-bars fa-lg"></i> </a> <!-- Menu --> <ul class="hide"> <li class="separator"> | </li> <li> <a class="clear" aria-label="Books" title="Books" href="/books/"> <span class="navbar-label ">Books</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Roadmaps" title="Roadmaps" href="/ios-road-map/"> <span class="navbar-label ">Roadmaps</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="About Me" title="About Me" href="/about-me/"> <span class="navbar-label ">About Me</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Tags" title="Tags" href="/tag/"> <i class="navbar-icon fas fa-tags" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Tags</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Blog Archive" title="Blog Archive" href="/archive/"> <i class="navbar-icon fas fa-archive" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Blog Archive</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Search" title="Search" href="/search/"> <i class="navbar-icon fas fa-search" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Search</span> </a> </li> <li class="separator"> | </li> <!-- <li><a id="theme-toggle" title="Understanding Swift: Differences Between Any, AnyObject, and AnyHashable " aria-label="Understanding Swift: Differences Between Any, AnyObject, and AnyHashable" onclick="themeToggle()"></a></li> --> </ul> </nav> </header>
    <div class="content">
      <article >
    <header id="main" style="">
        <div class="title-padder">
            
                <h1 id="Understanding+Swift%3A+Differences+Between+Any%2C+AnyObject%2C+and+AnyHashable" class="title">Understanding Swift: Differences Between Any, AnyObject, and AnyHashable</h1>
                


<div class="post-info">
      <img alt="Author's avatar" src="/images/deya_64.webp" loading="lazy">
    
    <p class="meta">
      Deya Elkhawaldeh - 
      
      November 26, 2021
    </p></div>

            
        </div>
    </header>

    <section class="post-content">
    
            <p>When working with Swift, one of the key decisions you’ll often face is how to represent data types. While specificity in defining data types is generally encouraged, Swift offers three flexible type options: <code class="language-plaintext highlighter-rouge">Any</code>, <code class="language-plaintext highlighter-rouge">AnyObject</code>, and <code class="language-plaintext highlighter-rouge">AnyHashable</code>.</p>

<!--more-->

<!-- _includes/centered-image.html -->
<div class="centered-image">
  <img src="../images/covers/any_full.webp" alt="A conceptual image representing Swift type systems." class="centered-image__img" width="960" height="1568" />
  <p align="center">
    <em>Exploring Swift's Flexible Type System</em>
  </p>
</div>

<p>Understanding when and how to use these types is crucial for developing robust and interoperable Swift applications.</p>

<h2 id="introduction-to-any-anyobject-and-anyhashable">Introduction to Any, AnyObject, and AnyHashable</h2>

<p>Swift is a strongly typed language, meaning that every variable, constant, or expression must have a clearly defined type. However, there are situations where the exact type might not be known until runtime, or where flexibility in type is required. This is where <code class="language-plaintext highlighter-rouge">Any</code>, <code class="language-plaintext highlighter-rouge">AnyObject</code>, and <code class="language-plaintext highlighter-rouge">AnyHashable</code> come into play.</p>

<h3 id="any">Any</h3>

<p>The <code class="language-plaintext highlighter-rouge">Any</code> type represents an instance of any type at all, including <code class="language-plaintext highlighter-rouge">function</code> types, <code class="language-plaintext highlighter-rouge">class</code> instances, <code class="language-plaintext highlighter-rouge">struct</code>s, and <code class="language-plaintext highlighter-rouge">enum</code>s. It’s the most general type in Swift, allowing you to work with values without needing to know their specific types in advance.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">mixedArray</span><span class="p">:</span> <span class="p">[</span><span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s">"Hello"</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
</code></pre></div></div>

<p>In this example, <code class="language-plaintext highlighter-rouge">mixedArray</code> can store any combination of types, from integers to strings and arrays. This can be particularly useful in scenarios where type flexibility is essential, but it should be used sparingly due to the loss of type safety.</p>

<h4 id="real-world-use-cases-for-any-in-swift">Real-World Use Cases for Any in Swift</h4>

<ol>
  <li>Handling Mixed-Type Data Collections
    <ul>
      <li>Use <code class="language-plaintext highlighter-rouge">Any</code> to create an array that holds various data types, which is useful for data parsing from APIs.</li>
    </ul>
  </li>
</ol>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">var</span> <span class="nv">things</span><span class="p">:</span> <span class="p">[</span><span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="n">things</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                <span class="c1">// Int</span>
  <span class="n">things</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="mf">3.14</span><span class="p">)</span>             <span class="c1">// Double</span>
  <span class="n">things</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="s">"Hello, World!"</span><span class="p">)</span>  <span class="c1">// String</span>
  <span class="n">things</span><span class="o">.</span><span class="nf">append</span><span class="p">((</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">))</span>       <span class="c1">// Tuple</span>
</code></pre></div></div>

<ol>
  <li>Dynamic Function Handling
Store function types in a collection, allowing for dynamic function calls.</li>
</ol>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">functions</span><span class="p">:</span> <span class="p">[</span><span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="k">in</span> <span class="s">"Hello, $$name)"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="k">in</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="p">}</span>
<span class="p">]</span>
</code></pre></div></div>

<p>or this detailed Example</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">AnyFunction</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">call</span><span class="p">(</span><span class="n">with</span> <span class="nv">input</span><span class="p">:</span> <span class="kt">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Any</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">functions</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyFunction</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kt">AnyFunctionWrapper</span> <span class="p">{</span> <span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="k">in</span> <span class="s">"Hello, </span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s">"</span> <span class="p">},</span>
    <span class="kt">AnyFunctionWrapper</span> <span class="p">{</span> <span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="k">in</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="p">}</span>
<span class="p">]</span>

<span class="kd">struct</span> <span class="kt">AnyFunctionWrapper</span><span class="p">:</span> <span class="kt">AnyFunction</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">_call</span><span class="p">:</span> <span class="p">(</span><span class="kt">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Any</span>

    <span class="kd">init</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">,</span> <span class="kt">R</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">function</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">R</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_call</span> <span class="o">=</span> <span class="p">{</span> <span class="n">input</span> <span class="k">in</span>
            <span class="k">if</span> <span class="k">let</span> <span class="nv">typedInput</span> <span class="o">=</span> <span class="n">input</span> <span class="k">as?</span> <span class="kt">T</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nf">function</span><span class="p">(</span><span class="n">typedInput</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="s">"Invalid input type"</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">call</span><span class="p">(</span><span class="n">with</span> <span class="nv">input</span><span class="p">:</span> <span class="kt">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Any</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nf">_call</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">greetingResult</span> <span class="o">=</span> <span class="n">functions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="nf">call</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="s">"Alice"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">greetingResult</span><span class="p">)</span> <span class="c1">// Output: Hello, Alice</span>

<span class="k">let</span> <span class="nv">doublingResult</span> <span class="o">=</span> <span class="n">functions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="nf">call</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="mi">5</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">doublingResult</span><span class="p">)</span> <span class="c1">// Output: 10</span>

<span class="k">let</span> <span class="nv">invalidResult</span> <span class="o">=</span> <span class="n">functions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="nf">call</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="mi">42</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">invalidResult</span><span class="p">)</span> <span class="c1">// Output: Invalid input type</span>
</code></pre></div></div>

<ol>
  <li>
    <p>Interfacing with Objective-C APIs
Use Any to handle untyped objects returned by Objective-C methods, facilitating seamless interaction.</p>
  </li>
  <li>
    <p>Generic Programming
Accept or return any type in generic programming, simplifying function signatures when specific types are not essential.</p>
  </li>
  <li>
    <p>Temporary Data Structures
Build temporary data structures for algorithms, allowing storage of various types without creating multiple collections.</p>
  </li>
</ol>

<p>Caution in Usage:</p>
<blockquote>
  <p>While <code class="language-plaintext highlighter-rouge">Any</code> offers flexibility, it can lead to loss of type safety and increased complexity. Use more specific types whenever possible to maintain clarity and safety in your codebase.</p>
</blockquote>

<h3 id="anyobject">AnyObject</h3>

<p><code class="language-plaintext highlighter-rouge">AnyObject</code> is a protocol that all <code class="language-plaintext highlighter-rouge">class</code> types implicitly conform to. It’s used when you need to work specifically with instances of classes rather than value types like <code class="language-plaintext highlighter-rouge">struct</code>s or <code class="language-plaintext highlighter-rouge">enum</code>s. <code class="language-plaintext highlighter-rouge">AnyObject</code> is commonly used in scenarios where Swift interacts with Objective-C, especially because Objective-C types are generally class-based.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">objectArray</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyObject</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="kt">NSString</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"Hello"</span><span class="p">),</span> <span class="kt">NSNumber</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="mi">42</span><span class="p">)]</span>
</code></pre></div></div>

<p>Here, <code class="language-plaintext highlighter-rouge">objectArray</code> holds instances that are guaranteed to be <code class="language-plaintext highlighter-rouge">class</code> types. This makes <code class="language-plaintext highlighter-rouge">AnyObject</code> a safer option when you’re dealing with <code class="language-plaintext highlighter-rouge">class</code> instances, especially in mixed-language projects involving both Swift and Objective-C.</p>

<h4 id="real-world-use-cases-for-anyobject-in-swift">Real-World Use Cases for AnyObject in Swift</h4>

<p><code class="language-plaintext highlighter-rouge">AnyObject</code> allows you to work with instances of any class type. Here are some real-world scenarios where it can be beneficial:</p>

<ol>
  <li>Interacting with Objective-C <code class="language-plaintext highlighter-rouge">API</code>s
    <ul>
      <li>Use <code class="language-plaintext highlighter-rouge">AnyObject</code> to handle untyped objects from Objective-C methods and properties, facilitating seamless interaction with these <code class="language-plaintext highlighter-rouge">API</code>s.</li>
    </ul>
  </li>
  <li>Parsing Mixed-Type <code class="language-plaintext highlighter-rouge">JSON</code> Data
    <ul>
      <li>Store parsed <code class="language-plaintext highlighter-rouge">JSON</code> data containing a mix of types (strings, numbers, booleans) in a flexible way using <code class="language-plaintext highlighter-rouge">AnyObject</code>.</li>
    </ul>
  </li>
  <li>Creating Heterogeneous Collections
    <ul>
      <li>Create arrays or dictionaries that hold instances of different class types, allowing for storage of diverse objects together.</li>
    </ul>
  </li>
  <li>Bridging Objective-C Classes to Swift
    <ul>
      <li>Use <code class="language-plaintext highlighter-rouge">AnyObject</code> for properties, method parameters, and return values when bridging Objective-C classes, enabling interaction without knowing specific types.</li>
    </ul>
  </li>
  <li>Implementing Dynamic Behavior
    <ul>
      <li>Leverage <code class="language-plaintext highlighter-rouge">AnyObject</code> to call any Objective-C method, creating flexible and extensible <code class="language-plaintext highlighter-rouge">API</code>s.</li>
    </ul>
  </li>
</ol>

<p>Note:</p>
<blockquote>
  <p>While <code class="language-plaintext highlighter-rouge">AnyObject</code> is useful, it’s important to prioritize type safety and performance by using more specific types whenever possible.</p>
</blockquote>

<h3 id="anyhashable">AnyHashable</h3>

<p><code class="language-plaintext highlighter-rouge">AnyHashable</code> is a type in Swift that allows you to store values of different types that conform to the <code class="language-plaintext highlighter-rouge">Hashable</code> protocol in a single collection. This is particularly useful when you need a heterogeneous collection of hashable types, such as when using a dictionary or a set.</p>

<h4 id="key-features">Key Features</h4>

<ul>
  <li><strong>Type Erasure</strong>: <code class="language-plaintext highlighter-rouge">AnyHashable</code> provides a way to erase the specific type of a hashable value while still maintaining its hashability.</li>
  <li><strong>Interoperability</strong>: It can be used in collections like <code class="language-plaintext highlighter-rouge">Set</code> or <code class="language-plaintext highlighter-rouge">Dictionary</code> where the key types might differ.</li>
</ul>

<h4 id="example-usage">Example Usage</h4>

<p>Here’s a simple example demonstrating how to use <code class="language-plaintext highlighter-rouge">AnyHashable</code>:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">intKey</span><span class="p">:</span> <span class="kt">AnyHashable</span> <span class="o">=</span> <span class="kt">AnyHashable</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">stringKey</span><span class="p">:</span> <span class="kt">AnyHashable</span> <span class="o">=</span> <span class="kt">AnyHashable</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">dictionary</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span><span class="p">:</span> <span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nv">intKey</span><span class="p">:</span> <span class="s">"This is an integer key"</span><span class="p">,</span>
    <span class="nv">stringKey</span><span class="p">:</span> <span class="s">"This is a string key"</span>
<span class="p">]</span>

<span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">in</span> <span class="n">dictionary</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">key</span><span class="se">)</span><span class="s">: </span><span class="se">\(</span><span class="n">value</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="the-difference-between-any-and-anyobject-in-swift">The Difference Between Any and AnyObject in Swift</h2>

<p><code class="language-plaintext highlighter-rouge">Any</code> and <code class="language-plaintext highlighter-rouge">AnyObject</code> are two special types in Swift used for type erasure, allowing you to work with values of unknown or mixed types. Here are the key differences:</p>

<h3 id="any-1">Any</h3>
<ul>
  <li>Represents any type, including value types (structs, enums) and reference types (classes).</li>
  <li>Can be used to store heterogeneous collections of values.</li>
  <li>Example usage:
    <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">mixedArray</span><span class="p">:</span> <span class="p">[</span><span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s">"Hello"</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">item</span> <span class="k">in</span> <span class="n">mixedArray</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="n">item</span> <span class="p">{</span>
  <span class="k">case</span> <span class="k">let</span> <span class="nv">x</span> <span class="k">as</span> <span class="kt">Int</span><span class="p">:</span>
      <span class="nf">print</span><span class="p">(</span><span class="s">"Int: </span><span class="se">\(</span><span class="n">x</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
  <span class="k">case</span> <span class="k">let</span> <span class="nv">x</span> <span class="k">as</span> <span class="kt">String</span><span class="p">:</span>
      <span class="nf">print</span><span class="p">(</span><span class="s">"String: </span><span class="se">\(</span><span class="n">x</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
  <span class="k">case</span> <span class="k">let</span> <span class="nv">x</span> <span class="k">as</span> <span class="kt">Bool</span><span class="p">:</span>
      <span class="nf">print</span><span class="p">(</span><span class="s">"Bool: </span><span class="se">\(</span><span class="n">x</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
  <span class="k">case</span> <span class="k">let</span> <span class="nv">x</span> <span class="k">as</span> <span class="kt">Double</span><span class="p">:</span>
      <span class="nf">print</span><span class="p">(</span><span class="s">"Double: </span><span class="se">\(</span><span class="n">x</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
  <span class="k">default</span><span class="p">:</span>
      <span class="nf">print</span><span class="p">(</span><span class="s">"Unknown type"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="anyobject-1">AnyObject</h3>
<p>Represents any instance of a class, equivalent to id in Objective-C.
Only allows reference types (classes) and is useful when you specifically want to work with class instances.
Example usage:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Car</span> <span class="p">{}</span>
<span class="kd">class</span> <span class="kt">Song</span> <span class="p">{}</span>

<span class="k">let</span> <span class="nv">objectsArray</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyObject</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="kt">Car</span><span class="p">(),</span> <span class="kt">Car</span><span class="p">(),</span> <span class="kt">Song</span><span class="p">()]</span>
<span class="k">for</span> <span class="n">item</span> <span class="k">in</span> <span class="n">objectsArray</span> <span class="p">{</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">car</span> <span class="o">=</span> <span class="n">item</span> <span class="k">as?</span> <span class="kt">Car</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Car: $$car)"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="k">let</span> <span class="nv">song</span> <span class="o">=</span> <span class="n">item</span> <span class="k">as?</span> <span class="kt">Song</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Song: $$song)"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Unknown type"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="when-to-use-any-vs-anyobject">When to Use Any vs. AnyObject</h2>

<ul>
  <li>Use <code class="language-plaintext highlighter-rouge">Any</code>:
    <ul>
      <li>When your collection or variable needs to handle multiple types, including value types like <code class="language-plaintext highlighter-rouge">Int</code>, <code class="language-plaintext highlighter-rouge">String</code>, and <code class="language-plaintext highlighter-rouge">Array</code>.</li>
      <li>When your data will be used exclusively in Swift code, allowing you to include both value and reference types.</li>
    </ul>
  </li>
  <li>Use <code class="language-plaintext highlighter-rouge">AnyObject</code>:
    <ul>
      <li>When dealing with APIs that expect class types, such as when interfacing with Objective-C code.</li>
      <li>When you specifically need to work with reference types.</li>
      <li>When your data will interact with Objective-C code or when you specifically need to constrain your data to <code class="language-plaintext highlighter-rouge">class</code> types.</li>
    </ul>
  </li>
</ul>

<h2 id="anyhashable-1">AnyHashable</h2>

<p>As mentioned earlier, <code class="language-plaintext highlighter-rouge">AnyHashable</code> is a type-erased wrapper that can hold any value conforming to the <code class="language-plaintext highlighter-rouge">Hashable</code> protocol. It allows you to store heterogeneously-typed values in collections that require a hashable type, such as sets or dictionaries.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="k">let</span> <span class="nv">anyHashableDict</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"key1"</span><span class="p">:</span> <span class="s">"value1"</span><span class="p">,</span>
    <span class="mi">42</span><span class="p">:</span> <span class="s">"value2"</span><span class="p">,</span>
    <span class="kt">UUID</span><span class="p">():</span> <span class="s">"value3"</span>
<span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="n">anyHashableDict</span><span class="p">)</span>
</code></pre></div></div>

<p>In this example, <code class="language-plaintext highlighter-rouge">anyHashableDict</code> can have keys of different types, as long as those types conform to the <code class="language-plaintext highlighter-rouge">Hashable</code> protocol. <code class="language-plaintext highlighter-rouge">AnyHashable</code> is particularly useful when dealing with untyped sets or dictionaries coming from Objective-C, as it provides the necessary flexibility while maintaining type safety within Swift.</p>

<!-- #### Practical Example: Notification Structure

A common use of `AnyHashable` is in the `Notification` structure, which is frequently used in iOS development to manage broadcasted messages within an app.

```swift
public struct Notification : ReferenceConvertible, Equatable, Hashable {
    /// Storage for values or objects related to this notification.
    public var userInfo: [AnyHashable : Any]?
}
```

In this context, `AnyHashable` allows the `userInfo` dictionary to store keys of any hashable type, providing the necessary flexibility for different kinds of data to be passed along with the notification. -->

<h2 id="conclusion">Conclusion</h2>

<p>Understanding when to use <code class="language-plaintext highlighter-rouge">Any</code>, <code class="language-plaintext highlighter-rouge">AnyObject</code>, and <code class="language-plaintext highlighter-rouge">AnyHashable</code> can greatly enhance your flexibility and interoperability in Swift development. While these types provide powerful tools for working with a wide range of data, it’s important to use them judiciously to maintain the clarity and safety of your code. By carefully choosing the appropriate type based on the needs of your application, you can ensure that your Swift code is both robust and adaptable.</p>

    
    </section>

    <!-- Social media shares -->
    

<div class="share-buttons">
    <ul class="share-buttons">
        <li class="meta">Share</li>
        
        <li>
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/swift-any-anyobject/" target="_blank"
               title=" Facebook">
                <i class="fab fa-facebook-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on Facebook</span>
            </a>
        </li>
         
        <li>
            <a href="https://twitter.com/intent/tweet?text=Understanding+Swift%3A+Differences+Between+Any%2C+AnyObject%2C+and+AnyHashable%20http%3A%2F%2Flocalhost%3A4000%2Fswift-any-anyobject%2F"
               target="_blank" title="">
                <i class="fab fa-twitter-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Tweet</span>
            </a>
        </li>
            
        <li>
            <a href="https://www.reddit.com/submit?url=http://localhost:4000/swift-any-anyobject/&title=Understanding+Swift%3A+Differences+Between+Any%2C+AnyObject%2C+and+AnyHashable%20%7C%20Swift+By+Deya"
               target="_blank" title=" Reddit">
                <i class="fab fa-reddit-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on Reddit</span>
            </a>
        </li>
         
        <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/swift-any-anyobject/&title=Understanding+Swift%3A+Differences+Between+Any%2C+AnyObject%2C+and+AnyHashable%20%7C%20Swift+By+Deya&summary=&source=http://localhost:4000/swift-any-anyobject/"
               target="_blank" title=" LinkedIn">
                <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on LinkedIn</span>
            </a>
        </li>
          
        <li>
            <a href="mailto:?subject=Understanding Swift: Differences Between Any, AnyObject, and AnyHashable%20%7C%20Swift By Deya&body=http://localhost:4000/swift-any-anyobject/"
               target="_blank" title="">
                <i class="fas fa-envelope-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Email</span></a>
        </li>
        
    </ul>
</div>




    <!-- Tag list -->
    
    


  <div class="tag-list">
    <ul>
      
        <li class="meta">Tags</li>
      

      
        <li><a class="button" href="http://localhost:4000/tag#Development">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Development</p>
        </a></li>
      
        <li><a class="button" href="http://localhost:4000/tag#Objective-C">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Objective-C</p>
        </a></li>
      
        <li><a class="button" href="http://localhost:4000/tag#Programming">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Programming</p>
        </a></li>
      
        <li><a class="button" href="http://localhost:4000/tag#Swift">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Swift</p>
        </a></li>
      
        <li><a class="button" href="http://localhost:4000/tag#iOS">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> iOS</p>
        </a></li>
      
    </ul>
  </div>



</article>




<!-- To change color of links in the page --> <style> header#main { background-size: cover; background-repeat: no-repeat; background-position: center; } </style> <!-- Post navigation --> <div id="post-nav"> <div id="previous-post"> <a alt="Swift: The Difference Between nil, Nil, NULL, NSNull" href="/swift-the-difference-between-nil-nil-null-nsnull/"> <p>Previous post</p> Swift: The Difference Between nil, Nil, NULL, NSNull </a> </div> <div id="next-post"> <a alt="Swift Root/Base Class & NSObject: A Quick Look" href="/swift-root-class-nsobject/"> <p>Next post</p> Swift Root/Base Class & NSObject: A Quick Look </a> </div> </div> <!--Utterances--> <!-- Cusdis --> <!-- Disqus -->


    </div>
    
    <footer class="site-footer"> <p class="text"> Swift By Deya </p> <div class="footer-icons"> <ul> <!-- Social icons from Font Awesome, if enabled --> <li> <a feed.xml href="/feed.xml" title="Follow RSS feed" target="_blank"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fas fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://github.com/deya-eldeen" title="Follow on Github" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-github fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://www.linkedin.com/in/deya-eldeen-elkhawaldeh-47908662" title="Follow on Linkedin" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="mailto:deyaeldeenk@gmail.com"" title="Follow on Mail" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fas fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://twitter.com/deya_eldeen" title="Follow on Twitter" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </li> </ul> </div> </footer>
  </body>
</html>
