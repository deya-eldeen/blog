<!DOCTYPE html>
<!--
    Type on Strap jekyll theme v2.4.9
    Theme free for personal and commercial use under the MIT license
    https://github.com/sylhare/Type-on-Strap/blob/master/LICENSE
-->
<html lang="en">
  
  <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=5"> <!-- Theme Mode--> <script> const darkBtn = "Dark"; const lightBtn = "Light"; const isAutoTheme = true; const preferredTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'; if (isAutoTheme) { document.documentElement.setAttribute('data-theme', sessionStorage.getItem('theme') ?? preferredTheme); } else { document.documentElement.setAttribute('data-theme', "auto"); } </script> <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)--> <script defer src="/assets/js/main.min.js"></script> <!-- CSS --> <!-- <link rel="stylesheet" href="/assets/css/main.css"> --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!--Favicon--> <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"> <!-- KaTeX 0.16.9 --> <script defer src="/assets/js/vendor/katex.min.js"></script> <script defer src="/assets/js/vendor/katex.auto-render.min.js" onload="renderMathInElement(document.body);"></script> <!-- Mermaid 10.8.0 --> <script defer src="/assets/js/vendor/mermaid.min.js"></script> <!-- Simple Jekyll Search 1.10.0 --> <script src="/assets/js/vendor/simple-jekyll-search.min.js" type="text/javascript"></script> <!-- Google Analytics / Cookie Consent --> <script> const cookieName = 'cookie-notice-dismissed-http://localhost:4000'; const isCookieConsent = 'false'; const analyticsName = ''; const analyticsNameGA4 = ''; </script> <!-- seo tags --> <meta property="og:image" content="http://localhost:4000/images/covers/arrows.jpg"> <meta property="og:type" content="website" /> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Using unicode markers (LTR: 0x200E, RTL:200F) to align ‚Äúhybrid RTL/LTR strings‚Äù correctly. | Swift By Deya</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Using unicode markers (LTR: 0x200E, RTL:200F) to align ‚Äúhybrid RTL/LTR strings‚Äù correctly." /> <meta name="author" content="Deya Eldeen Elkhawaldeh" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="So you have some text that contains both Arabic and English languages at the same time and are having difficulty aligning it? Sometimes it starts with English, and other times it starts with Arabic." /> <meta property="og:description" content="So you have some text that contains both Arabic and English languages at the same time and are having difficulty aligning it? Sometimes it starts with English, and other times it starts with Arabic." /> <link rel="canonical" href="http://localhost:4000/using-invisible-markers-ltr-0x200e-rtl200f-to-align-hybrid-rtl-ltr-strings-correctly/" /> <meta property="og:url" content="http://localhost:4000/using-invisible-markers-ltr-0x200e-rtl200f-to-align-hybrid-rtl-ltr-strings-correctly/" /> <meta property="og:site_name" content="Swift By Deya" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2022-03-03T00:00:00+03:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Using unicode markers (LTR: 0x200E, RTL:200F) to align ‚Äúhybrid RTL/LTR strings‚Äù correctly." /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Deya Eldeen Elkhawaldeh"},"dateModified":"2024-09-08T00:00:00+03:00","datePublished":"2022-03-03T00:00:00+03:00","description":"So you have some text that contains both Arabic and English languages at the same time and are having difficulty aligning it? Sometimes it starts with English, and other times it starts with Arabic.","headline":"Using unicode markers (LTR: 0x200E, RTL:200F) to align ‚Äúhybrid RTL/LTR strings‚Äù correctly.","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/using-invisible-markers-ltr-0x200e-rtl200f-to-align-hybrid-rtl-ltr-strings-correctly/"},"url":"http://localhost:4000/using-invisible-markers-ltr-0x200e-rtl200f-to-align-hybrid-rtl-ltr-strings-correctly/"}</script> <!-- End Jekyll SEO tag --> <!-- RSS --> <link rel="alternate" type="application/atom+xml" title="Swift By Deya" href="http://localhost:4000/feed.xml"/> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Swift By Deya" /> <!-- Twitter Cards --> <meta name="twitter:title" content="Using unicode markers (LTR: 0x200E, RTL:200F) to align "hybrid RTL/LTR strings" correctly."> <meta name="twitter:description" content="So you have some text that contains both Arabic and English languages at the same time and are having difficulty aligning it? Sometimes it starts with Englis..."> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="http://localhost:4000/images/covers/arrows.jpg"> <meta name="twitter:image:alt" content="Using unicode markers (LTR: 0x200E, RTL:200F) to align "hybrid RTL/LTR strings" correctly."> </head>
  <body>
    
    <header class="site-header"> <!-- Logo and title --> <div class="branding"> <a href="/"> <img alt="logo img" class="avatar" src="/assets/img/swift.png" loading="lazy"/> </a> <a class="site-title" aria-label="Swift By Deya" href="/"> Swift By Deya </a> </div> <!-- Toggle menu --> <nav class="clear"> <a aria-label="pull" id="pull" class="toggle" href="#"> <i class="fas fa-bars fa-lg"></i> </a> <!-- Menu --> <ul class="hide"> <li class="separator"> | </li> <li> <a class="clear" aria-label="Books" title="Books" href="/books/"> <span class="navbar-label ">Books</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Roadmaps" title="Roadmaps" href="/ios-road-map/"> <span class="navbar-label ">Roadmaps</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="About Me" title="About Me" href="/about-me/"> <span class="navbar-label ">About Me</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Tags" title="Tags" href="/tags/"> <i class="navbar-icon fas fa-tags" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Tags</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Blog Archive" title="Blog Archive" href="/archive/"> <i class="navbar-icon fas fa-archive" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Blog Archive</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Search" title="Search" href="/search/"> <i class="navbar-icon fas fa-search" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Search</span> </a> </li> <li class="separator"> | </li> <!-- <li><a id="theme-toggle" title="Using unicode markers (LTR: 0x200E, RTL:200F) to align "hybrid RTL/LTR strings" correctly. " aria-label="Using unicode markers (LTR: 0x200E, RTL:200F) to align "hybrid RTL/LTR strings" correctly." onclick="themeToggle()"></a></li> --> </ul> </nav> </header>
    <div class="content">
      <article >
    <header id="main" style="">
        <div class="title-padder">
            
                <h1 id="Using+unicode+markers+%28LTR%3A+0x200E%2C+RTL%3A200F%29+to+align+%22hybrid+RTL%2FLTR+strings%22+correctly." class="title">Using unicode markers (LTR: 0x200E, RTL:200F) to align "hybrid RTL/LTR strings" correctly.</h1>
                


<div class="post-info">
      <img alt="Author's avatar" src="/images/deya_64.png" loading="lazy">
    
    <p class="meta">
      Deya Eldeen Elkhawaldeh - 
      
      March 03, 2022
    </p></div>

            
        </div>
    </header>

    <section class="post-content">
    
            <p>So you have some text that contains both Arabic and English languages at the same time and are having difficulty aligning it? Sometimes it starts with English, and other times it starts with Arabic.</p>

<!--more-->

<!-- _includes/centered-image.html -->
<div class="centered-image">
    <img src="../images/covers/arrows_full.jpg" alt="" class="centered" />
    <p align="center"><em></em></p>
  </div>

<h2 id="working-with-multiple-languages">Working With Multiple Languages</h2>
<p>It‚Äôs common to encounter text that combines multiple languages, such as Arabic and English. However, this can lead to alignment issues, especially when the text direction changes unexpectedly. In this post, we‚Äôll explore how these challenges arise, examine a couple of solutions, and ultimately reveal the most effective method for ensuring proper text alignment using Unicode markers. Let‚Äôs dive in! This introduction sets the stage for the discussion by highlighting the relevance of the topic and outlining what the reader can expect to learn.</p>

<h3 id="the-following-example-illustrates">The following example illustrates</h3>
<ul>
  <li>This problem üêõ</li>
  <li>A hacky way to solve it üë∫</li>
  <li>The correct way to solve it üßê</li>
</ul>

<!-- _includes/centered-image.html -->
<div class="centered-image">
    <img src="images/rtl_ltr.png" alt="" class="centered" />
    <p align="center"><em></em></p>
  </div>

<h4 id="top-line">Top line</h4>
<p>Shows a line rendered incorrectly because the first word is Arabic, and it does not align as expected on the left ü§¶üèª.</p>

<h4 id="middle-line">Middle line</h4>
<p>One hacky solution is to always start your text with a left-to-right (LTR) word, like <code class="language-plaintext highlighter-rouge">text</code>, but this is not the best approach üë∫.</p>

<h4 id="bottom-line">Bottom line</h4>
<p>This line displays correctly because it uses Unicode markers. The Unicode character set offers two markers: LTR (<code class="language-plaintext highlighter-rouge">0x200E</code>) and RTL (<code class="language-plaintext highlighter-rouge">0x200F</code>). These characters are invisible but control text direction. You can add <code class="language-plaintext highlighter-rouge">\u{200E}</code> to force the wrapping direction. ‚úÖ</p>

<h2 id="playground-example">Playground example</h2>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">PlaygroundSupport</span>

<span class="kd">extension</span> <span class="kt">String</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">withHighlighted</span><span class="p">(</span><span class="nv">word</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">NSMutableAttributedString</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">attributes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="kt">NSAttributedString</span><span class="o">.</span><span class="kt">Key</span><span class="o">.</span><span class="nv">foregroundColor</span><span class="p">:</span><span class="kt">UIColor</span><span class="o">.</span><span class="n">blue</span><span class="p">],</span>
            <span class="p">[</span><span class="kt">NSAttributedString</span><span class="o">.</span><span class="kt">Key</span><span class="o">.</span><span class="nv">font</span><span class="p">:</span> <span class="kt">UIFont</span><span class="o">.</span><span class="nf">boldSystemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">14</span><span class="p">)]</span>
        <span class="p">]</span>
        <span class="k">let</span> <span class="nv">range</span> <span class="o">=</span> <span class="p">(</span><span class="k">self</span> <span class="k">as</span> <span class="kt">NSString</span><span class="p">)</span><span class="o">.</span><span class="nf">range</span><span class="p">(</span><span class="nv">of</span><span class="p">:</span> <span class="n">word</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">result</span> <span class="o">=</span> <span class="kt">NSMutableAttributedString</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">attribute</span> <span class="k">in</span> <span class="n">attributes</span> <span class="p">{</span>
            <span class="n">result</span><span class="o">.</span><span class="nf">addAttributes</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="nv">range</span><span class="p">:</span> <span class="n">range</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">MyViewController</span> <span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">loadView</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">view</span> <span class="o">=</span> <span class="kt">UIView</span><span class="p">()</span>
        <span class="k">let</span> <span class="nv">topLabel</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>
        <span class="k">let</span> <span class="nv">middleLabel</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>
        <span class="k">let</span> <span class="nv">bottomLabel</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>
        <span class="n">topLabel</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nv">width</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">20</span><span class="p">)</span>
        <span class="n">middleLabel</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="nv">width</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">20</span><span class="p">)</span>
        <span class="n">bottomLabel</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span> <span class="nv">width</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">20</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">word1</span> <span class="o">=</span> <span class="s">"ÿπÿ®ÿØ ÿßŸÑŸÑŸá"</span>
        <span class="k">let</span> <span class="nv">word2</span> <span class="o">=</span> <span class="s">"added a new comment"</span>
        <span class="k">let</span> <span class="nv">adjustor</span> <span class="o">=</span> <span class="s">"</span><span class="se">\u{200E}</span><span class="s">"</span>
        <span class="n">topLabel</span><span class="o">.</span><span class="n">attributedText</span> <span class="o">=</span> <span class="s">"</span><span class="se">\(</span><span class="n">word1</span><span class="se">)</span><span class="s"> </span><span class="se">\(</span><span class="n">word2</span><span class="se">)</span><span class="s">"</span><span class="o">.</span><span class="nf">withHighlighted</span><span class="p">(</span><span class="nv">word</span><span class="p">:</span> <span class="n">word1</span><span class="p">)</span>
        <span class="n">middleLabel</span><span class="o">.</span><span class="n">attributedText</span> <span class="o">=</span> <span class="s">"note: </span><span class="se">\(</span><span class="n">word1</span><span class="se">)</span><span class="s"> </span><span class="se">\(</span><span class="n">word2</span><span class="se">)</span><span class="s">"</span><span class="o">.</span><span class="nf">withHighlighted</span><span class="p">(</span><span class="nv">word</span><span class="p">:</span> <span class="n">word1</span><span class="p">)</span>
        <span class="n">bottomLabel</span><span class="o">.</span><span class="n">attributedText</span> <span class="o">=</span> <span class="s">"</span><span class="se">\(</span><span class="n">adjustor</span><span class="se">)</span><span class="s"> </span><span class="se">\(</span><span class="n">word1</span><span class="se">)</span><span class="s"> </span><span class="se">\(</span><span class="n">word2</span><span class="se">)</span><span class="s">"</span><span class="o">.</span><span class="nf">withHighlighted</span><span class="p">(</span><span class="nv">word</span><span class="p">:</span> <span class="n">word1</span><span class="p">)</span>
        <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">topLabel</span><span class="p">)</span>
        <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">middleLabel</span><span class="p">)</span>
        <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">bottomLabel</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="n">view</span> <span class="o">=</span> <span class="n">view</span>
    <span class="p">}</span>
    
<span class="p">}</span>

<span class="kt">PlaygroundPage</span><span class="o">.</span><span class="n">current</span><span class="o">.</span><span class="n">liveView</span> <span class="o">=</span> <span class="kt">MyViewController</span><span class="p">()</span>
</code></pre></div></div>

    
    </section>

    <!-- Social media shares -->
    

<div class="share-buttons">
    <ul class="share-buttons">
        <li class="meta">Share</li>
        
        <li>
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/using-invisible-markers-ltr-0x200e-rtl200f-to-align-hybrid-rtl-ltr-strings-correctly/" target="_blank"
               title=" Facebook">
                <i class="fab fa-facebook-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on Facebook</span>
            </a>
        </li>
         
        <li>
            <a href="https://twitter.com/intent/tweet?text=Using+unicode+markers+%28LTR%3A+0x200E%2C+RTL%3A200F%29+to+align+%22hybrid+RTL%2FLTR+strings%22+correctly.%20http%3A%2F%2Flocalhost%3A4000%2Fusing-invisible-markers-ltr-0x200e-rtl200f-to-align-hybrid-rtl-ltr-strings-correctly%2F"
               target="_blank" title="">
                <i class="fab fa-twitter-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Tweet</span>
            </a>
        </li>
            
        <li>
            <a href="https://www.reddit.com/submit?url=http://localhost:4000/using-invisible-markers-ltr-0x200e-rtl200f-to-align-hybrid-rtl-ltr-strings-correctly/&title=Using+unicode+markers+%28LTR%3A+0x200E%2C+RTL%3A200F%29+to+align+%22hybrid+RTL%2FLTR+strings%22+correctly.%20%7C%20Swift+By+Deya"
               target="_blank" title=" Reddit">
                <i class="fab fa-reddit-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on Reddit</span>
            </a>
        </li>
         
        <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/using-invisible-markers-ltr-0x200e-rtl200f-to-align-hybrid-rtl-ltr-strings-correctly/&title=Using+unicode+markers+%28LTR%3A+0x200E%2C+RTL%3A200F%29+to+align+%22hybrid+RTL%2FLTR+strings%22+correctly.%20%7C%20Swift+By+Deya&summary=&source=http://localhost:4000/using-invisible-markers-ltr-0x200e-rtl200f-to-align-hybrid-rtl-ltr-strings-correctly/"
               target="_blank" title=" LinkedIn">
                <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on LinkedIn</span>
            </a>
        </li>
          
        <li>
            <a href="mailto:?subject=Using unicode markers (LTR: 0x200E, RTL:200F) to align "hybrid RTL/LTR strings" correctly.%20%7C%20Swift By Deya&body=http://localhost:4000/using-invisible-markers-ltr-0x200e-rtl200f-to-align-hybrid-rtl-ltr-strings-correctly/"
               target="_blank" title="">
                <i class="fas fa-envelope-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Email</span></a>
        </li>
        
    </ul>
</div>




    <!-- Tag list -->
    
    


  <div class="tag-list">
    <ul>
      
        <li class="meta">Tags</li>
      

      
        <li><a class="button" href="//tags#Development">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Development</p>
        </a></li>
      
        <li><a class="button" href="//tags#Interface-Builder">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Interface-Builder</p>
        </a></li>
      
        <li><a class="button" href="//tags#Programming">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Programming</p>
        </a></li>
      
        <li><a class="button" href="//tags#Swift">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Swift</p>
        </a></li>
      
        <li><a class="button" href="//tags#Xcode">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Xcode</p>
        </a></li>
      
        <li><a class="button" href="//tags#iOS">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> iOS</p>
        </a></li>
      
    </ul>
  </div>



</article>




<!-- To change color of links in the page --> <style> header#main { background-size: cover; background-repeat: no-repeat; background-position: center; } </style> <!-- Post navigation --> <div id="post-nav"> <div id="previous-post"> <a alt="Swift Sets: Basics and Practical Examples" href="/swift-set-data-structure-with-practical-example-pizza-cooking/"> <p>Previous post</p> Swift Sets: Basics and Practical Examples </a> </div> <div id="next-post"> <a alt="Mastering Swift Bitwise Operators: Theory and Practical Examples" href="/swift-bitwise-operators-with-real-examples/"> <p>Next post</p> Mastering Swift Bitwise Operators: Theory and Practical Examples </a> </div> </div> <!--Utterances--> <!-- Cusdis --> <!-- Disqus -->


    </div>
    
    <footer class="site-footer"> <p class="text"> Swift By Deya </p> <div class="footer-icons"> <ul> <!-- Social icons from Font Awesome, if enabled --> <li> <a feed.xml href="/feed.xml" title="Follow RSS feed" target="_blank"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fas fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://github.com/sylhare" title="Follow on Github" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-github fa-stack-1x fa-inverse"></i> </span> </a> </li> </ul> </div> <script type="module"> mermaid.initialize({ startOnLoad: false, theme: "default" }); mermaid.run({ nodes: [...document.querySelectorAll('.language-mermaid'), ...document.querySelectorAll('.mermaid')] }); </script> </footer>
  </body>
</html>
